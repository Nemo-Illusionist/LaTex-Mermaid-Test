# ะัะบะพะฒะพะดััะฒะพ ะฟะพ ัะตััะธัะพะฒะฐะฝะธั

## ะะฑะทะพั

ะัะพะตะบั ะฒะบะปััะฐะตั ะบะพะผะฟะปะตะบัะฝัะน ะฝะฐะฑะพั ะฐะฒัะพะผะฐัะธัะตัะบะธั ัะตััะพะฒ ะดะปั ะฟัะพะฒะตัะบะธ ะบะพััะตะบัะฝะพััะธ ัะฑะพัะบะธ, ััััะบัััั PDF ะธ ะณะตะฝะตัะฐัะธะธ Mermaid ะดะธะฐะณัะฐะผะผ.

## ะะฐะฟััะบ ัะตััะพะฒ

### ะะพะบะฐะปัะฝะพ

```bash
./test.sh
```

### ะ CI/CD

ะขะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะฟััะบะฐัััั ะฒ GitHub Actions ะฟัะธ ะบะฐะถะดะพะผ push ะธ pull request.

## ะกัััะบัััะฐ ัะตััะพะฒ

### 1. ะัะพะฒะตัะบะฐ ะทะฐะฒะธัะธะผะพััะตะน (3 ัะตััะฐ)

ะัะพะฒะตััะตั ะฝะฐะปะธัะธะต ะฝะตะพะฑัะพะดะธะผัั ะธะฝััััะผะตะฝัะพะฒ:
- โ XeLaTeX ัััะฐะฝะพะฒะปะตะฝ
- โ mmdc (Mermaid CLI) ัััะฐะฝะพะฒะปะตะฝ
- โ Node.js ัััะฐะฝะพะฒะปะตะฝ
- โ๏ธ pdfinfo (ะพะฟัะธะพะฝะฐะปัะฝะพ, ะดะปั ัะฐััะธัะตะฝะฝะพะน ะฒะฐะปะธะดะฐัะธะธ)

**ะงัะพ ะฟัะพะธััะพะดะธั ะฟัะธ ะพััััััะฒะธะธ:**
- **ะัะธัะธัะตัะบะธะต** (xelatex, mmdc, node): ัะตัั ะฟัะพะฒะฐะปะตะฝ, ัะฑะพัะบะฐ ะฝะตะฒะพะทะผะพะถะฝะฐ
- **ะะฟัะธะพะฝะฐะปัะฝัะต** (pdfinfo): ัะตัั ะฟัะพะฟััะตะฝ, ะฑะฐะทะพะฒะฐั ะฒะฐะปะธะดะฐัะธั ะฒัั ัะฐะฒะฝะพ ัะฐะฑะพัะฐะตั

### 2. ะัะพะฒะตัะบะฐ ััััะบัััั ะฟัะพะตะบัะฐ (8 ัะตััะพะฒ)

ะัะพะฒะตััะตั ะฝะฐะปะธัะธะต ะฒัะตั ะฝะตะพะฑัะพะดะธะผัั ัะฐะนะปะพะฒ:
- โ main.tex ัััะตััะฒัะตั
- โ build.sh ัััะตััะฒัะตั ะธ ะธัะฟะพะปะฝัะตะผ
- โ mermaid.sty ัััะตััะฒัะตั ะฒ mermaid-package/
- โ config.tex ัััะตััะฒัะตั
- โ cover.tex ัััะตััะฒัะตั
- โ vvedenie.tex ัััะตััะฒัะตั
- โ ะะพะบัะผะตะฝัะฐัะธั ะฟะฐะบะตัะฐ (README.md)
- โ GitHub Actions workflow

### 3. ะกะฑะพัะบะฐ ะฟัะพะตะบัะฐ (4 ัะตััะฐ)

ะัะฟะพะปะฝัะตั ะฟะพะปะฝัั ัะฑะพัะบั ะฟัะพะตะบัะฐ:
- โ ะัะธััะบะฐ ะฟัะตะดัะดััะตะน ัะฑะพัะบะธ
- โ ะะฐะฟััะบ build.sh ััะฟะตัะตะฝ
- โ PDF ัะพะทะดะฐะฝ ะฒ ะบะพัะฝะต (main.pdf)
- โ PDF ัะพะทะดะฐะฝ ะฒ build/ (build/main.pdf)
- โ ะะธัะตะบัะพัะธั mermaid-images ัะพะทะดะฐะฝะฐ

**ะัะธ ะพัะธะฑะบะต ัะฑะพัะบะธ:**
- ะขะตัั ะฟัะพะฒะฐะปะตะฝ
- ะัะฒะพะดัััั ะฟะพัะปะตะดะฝะธะต 20 ัััะพะบ ะปะพะณ-ัะฐะนะปะฐ
- ะกะบัะธะฟั ะทะฐะฒะตััะฐะตััั ั ะบะพะดะพะผ 1

### 4. ะะฐะปะธะดะฐัะธั PDF (3+ ัะตััะฐ)

ะัะพะฒะตััะตั ะบะพััะตะบัะฝะพััั ัะณะตะฝะตัะธัะพะฒะฐะฝะฝะพะณะพ PDF:
- โ ะะฐะทะผะตั ัะฐะนะปะฐ > 10KB
- โ ะะพะปะธัะตััะฒะพ ัััะฐะฝะธั >= 3 (ะตัะปะธ pdfinfo ะดะพัััะฟะตะฝ)
- โ PDF ัะพะดะตัะถะธั ะผะตัะฐะดะฐะฝะฝัะต (ะตัะปะธ pdfinfo ะดะพัััะฟะตะฝ)
- โ ะะณะปะฐะฒะปะตะฝะธะต ัะพะทะดะฐะฝะพ (main.toc)
- โ ะะณะปะฐะฒะปะตะฝะธะต ัะพะดะตัะถะธั ะทะฐะฟะธัะธ

**ะัะตะดัะฟัะตะถะดะตะฝะธั:**
- PDF < 10KB: ะฒะพะทะผะพะถะฝะฐ ะฟัะพะฑะปะตะผะฐ
- ะกััะฐะฝะธั < 3: ะดะพะบัะผะตะฝั ัะปะธัะบะพะผ ะบะพัะพัะบะธะน
- ะัััะพะต ะพะณะปะฐะฒะปะตะฝะธะต: ะฝะต ะฒัะต ัะฐะทะดะตะปั ะพะฑัะฐะฑะพัะฐะฝั

### 5. ะัะพะฒะตัะบะฐ Mermaid ะดะธะฐะณัะฐะผะผ (3+ ัะตััะฐ)

ะัะพะฒะตััะตั ะบะพััะตะบัะฝะพััั ะณะตะฝะตัะฐัะธะธ ะดะธะฐะณัะฐะผะผ:
- โ ะะพะปะธัะตััะฒะพ .mmd ัะฐะนะปะพะฒ ัะพะพัะฒะตัััะฒัะตั ะพะถะธะดะฐะตะผะพะผั
- โ ะะพะปะธัะตััะฒะพ .png ัะฐะนะปะพะฒ ัะพะพัะฒะตัััะฒัะตั ะพะถะธะดะฐะตะผะพะผั
- โ ะะฐะทะผะตั ะบะฐะถะดะพะณะพ PNG > 1KB
- โ ะกะธะผะปะธะฝะบ mermaid-images ัััะตััะฒัะตั

**ะะฐะบ ะพะฟัะตะดะตะปัะตััั ะพะถะธะดะฐะตะผะพะต ะบะพะปะธัะตััะฒะพ:**
```bash
EXPECTED_DIAGRAMS=$(grep -c "begin{mermaidenv}" main.tex)
```

## ะะฝัะตัะฟัะตัะฐัะธั ัะตะทัะปััะฐัะพะฒ

### ะฃัะฟะตัะฝัะน ะทะฐะฟััะบ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ะะตะทัะปััะฐัั ัะตััะพะฒ                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

  ะัะตะณะพ ัะตััะพะฒ:   21
  ะัะพะนะดะตะฝะพ:       21
  ะัะพะฒะฐะปะตะฝะพ:      0

  ะฃัะฟะตัะฝะพััั:     100%

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โโโ  ะะกะ ะขะะกะขะซ ะะะะะะะะซ ะฃะกะะะจะะ!  โโโ           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

ะััะพะด ั ะบะพะดะพะผ: **0**

### ะัะพะฒะฐะป ัะตััะพะฒ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ะะตะทัะปััะฐัั ัะตััะพะฒ                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

  ะัะตะณะพ ัะตััะพะฒ:   21
  ะัะพะนะดะตะฝะพ:       18
  ะัะพะฒะฐะปะตะฝะพ:      3

  ะฃัะฟะตัะฝะพััั:     85%

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โโโ  ะะะะะขะะะซะ ะขะะกะขะซ ะะะะะะะะะะกะฌ  โโโ           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

ะััะพะด ั ะบะพะดะพะผ: **1**

## ะฆะฒะตัะพะฒะฐั ััะตะผะฐ

- ๐ฆ **ะกะธะฝะธะน** - ะธะฝัะพัะผะฐัะธะพะฝะฝัะต ัะพะพะฑัะตะฝะธั, ะฝะพะผะตัะฐ ัะตััะพะฒ
- ๐ฉ **ะะตะปะตะฝัะน** - ััะฟะตัะฝัะต ัะตััั
- ๐ฅ **ะัะฐัะฝัะน** - ะฟัะพะฒะฐะปะธะฒัะธะตัั ัะตััั
- ๐จ **ะะตะปััะน** - ะฟัะตะดัะฟัะตะถะดะตะฝะธั, ะฟัะพะฟััะตะฝะฝัะต ัะตััั

## ะะฐััะธัะตะฝะธะต ัะตััะพะฒ

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะณะพ ัะตััะฐ

```bash
# ะ test.sh ะดะพะฑะฐะฒััะต:
run_test "ะะฟะธัะฐะฝะธะต ัะตััะฐ" "ะบะพะผะฐะฝะดะฐ_ะดะปั_ะฟัะพะฒะตัะบะธ"

# ะะปะธ ั ะดะตัะฐะปัะฝัะผ ะฒัะฒะพะดะพะผ:
run_test_verbose "ะะฟะธัะฐะฝะธะต ัะตััะฐ" "ะบะพะผะฐะฝะดะฐ_ะฟะพะปััะตะฝะธั_ะทะฝะฐัะตะฝะธั" "ะพะถะธะดะฐะตะผะพะต_ะทะฝะฐัะตะฝะธะต"
```

### ะัะธะผะตัั

```bash
# ะัะพััะฐั ะฟัะพะฒะตัะบะฐ ัััะตััะฒะพะฒะฐะฝะธั ัะฐะนะปะฐ
run_test "ะคะฐะนะป ัััะตััะฒัะตั" "test -f path/to/file"

# ะัะพะฒะตัะบะฐ ั ะฒัะฒะพะดะพะผ ะทะฝะฐัะตะฝะธั
run_test_verbose "ะะฐะทะผะตั ะฑะพะปััะต 1000" "stat -f%z file.pdf" ""

# ะัะพะฒะตัะบะฐ ั ะพะถะธะดะฐะตะผัะผ ะทะฝะฐัะตะฝะธะตะผ
run_test_verbose "ะะพะปะธัะตััะฒะพ ัััะพะบ = 5" "wc -l < file.txt" "5"
```

## CI/CD ะธะฝัะตะณัะฐัะธั

### GitHub Actions

ะ `.github/workflows/build-pdf.yml`:

```yaml
- name: Install pdfinfo for testing
  run: |
    sudo apt-get install -y poppler-utils

- name: Run automated tests
  run: |
    chmod +x test.sh
    ./test.sh
```

**ะะพะฒะตะดะตะฝะธะต:**
- ะขะตััั ะทะฐะฟััะบะฐัััั ะฟะพัะปะต ัะฑะพัะบะธ
- ะัะธ ะฟัะพะฒะฐะปะต ัะตััะพะฒ workflow ะฟัะตััะฒะฐะตััั
- ะััะตัะฐะบัั (PDF, ะปะพะณะธ) ัะพััะฐะฝััััั ะดะฐะถะต ะฟัะธ ะฟัะพะฒะฐะปะต

## Troubleshooting

### ะขะตัั "mmdc ะฝะต ะฝะฐะนะดะตะฝ"

```bash
npm install -g @mermaid-js/mermaid-cli
mmdc --version  # ะัะพะฒะตัะบะฐ
```

### ะขะตัั "PDF ัะปะธัะบะพะผ ะผะฐะปะตะฝัะบะธะน"

**ะะพะทะผะพะถะฝัะต ะฟัะธัะธะฝั:**
- ะัะธะฑะบะฐ ะบะพะผะฟะธะปััะธะธ LaTeX (ะฟัะพะฒะตัััะต build/main.log)
- ะััััััะฒะธะต ะบะพะฝัะตะฝัะฐ ะฒ .tex ัะฐะนะปะฐั
- ะัะพะฑะปะตะผั ั ััะธััะฐะผะธ

### ะขะตัั "ะะตะฒะตัะฝะพะต ะบะพะปะธัะตััะฒะพ ะดะธะฐะณัะฐะผะผ"

**ะะพะทะผะพะถะฝัะต ะฟัะธัะธะฝั:**
- ะกะธะฝัะฐะบัะธัะตัะบะฐั ะพัะธะฑะบะฐ ะฒ Mermaid ะดะธะฐะณัะฐะผะผะต
- mmdc ะฝะต ัะผะพะณ ัะณะตะฝะตัะธัะพะฒะฐัั PNG
- ะัะพะฒะตัััะต build/mermaid-images/*.log (ะตัะปะธ verbose ะฒะบะปััะตะฝ)

### ะขะตัั "ะกะฑะพัะบะฐ ะฟัะพะฒะฐะปะธะปะฐัั"

```bash
# ะัะพะฒะตัััะต ะปะพะณ ัะฑะพัะบะธ
cat /tmp/build-test.log

# ะะปะธ ะฒัััะฝัั ะทะฐะฟัััะธัะต ัะฑะพัะบั
./build.sh
```

## ะกัะฐัะธััะธะบะฐ ัะตััะพะฒ

**ะขะตะบััะฐั ะฒะตััะธั:** v1.0.0

| ะะฐัะตะณะพัะธั | ะะพะปะธัะตััะฒะพ ัะตััะพะฒ | ะะฟะธัะฐะฝะธะต |
|-----------|-------------------|----------|
| ะะฐะฒะธัะธะผะพััะธ | 3 | xelatex, mmdc, node |
| ะกัััะบัััะฐ | 8 | ะะฐะปะธัะธะต ะฒัะตั ัะฐะนะปะพะฒ |
| ะกะฑะพัะบะฐ | 4 | ะฃัะฟะตัะฝะพััั ะบะพะผะฟะธะปััะธะธ |
| ะะฐะปะธะดะฐัะธั PDF | 3-5 | ะะฐะทะผะตั, ัััะฐะฝะธัั, ะผะตัะฐะดะฐะฝะฝัะต |
| Mermaid | 3+ | .mmd, .png ัะฐะนะปั |
| **ะัะพะณะพ** | **21+** | ะะฐะทะพะฒัะน ะฝะฐะฑะพั |

**ะะพะบัััะธะต:**
- โ ะะฐะฒะธัะธะผะพััะธ: 100%
- โ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ: 100%
- โ ะกะฑะพัะบะฐ: 100%
- โ ะะฐะปะธะดะฐัะธั PDF: ~80% (ะฟะพะปะฝะฐั ั pdfinfo)
- โ Mermaid ะดะธะฐะณัะฐะผะผั: 100%

## ะะปะฐะฝะธััะตะผัะต ัะปัััะตะฝะธั

- [ ] ะะตะณัะตััะธะพะฝะฝะพะต ัะตััะธัะพะฒะฐะฝะธะต (ััะฐะฒะฝะตะฝะธะต ั ััะฐะปะพะฝะฝัะผ PDF)
- [ ] ะัะพะฒะตัะบะฐ ัะพะดะตัะถะธะผะพะณะพ PDF (ัะตะบัั, ะธะทะพะฑัะฐะถะตะฝะธั)
- [ ] ะขะตััั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ (ะฒัะตะผั ัะฑะพัะบะธ)
- [ ] Unit-ัะตััั ะดะปั mermaid.sty
- [ ] ะขะตััั ะบัะพัั-ะฟะปะฐััะพัะผะตะฝะฝะพััะธ (Windows, macOS, Linux)

## ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะธะฝัะพัะผะฐัะธั

- **ะัะตะผั ะฒัะฟะพะปะฝะตะฝะธั:** ~30-60 ัะตะบัะฝะด (ั ะฟะพะปะฝะพะน ะฟะตัะตัะฑะพัะบะพะน)
- **ะขัะตะฑะพะฒะฐะฝะธั ะบ ัะธััะตะผะต:** XeLaTeX, mmdc, bash
- **ะกะพะฒะผะตััะธะผะพััั:** macOS, Linux, WSL
- **ะะธัะตะฝะทะธั:** MIT

---

**ะะพัะปะตะดะฝะตะต ะพะฑะฝะพะฒะปะตะฝะธะต:** 2025-01-06
**ะะตััะธั ะดะพะบัะผะตะฝัะฐ:** 1.0.0
